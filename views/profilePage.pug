extends layouts/main-layout.pug

block content
  if !profileUser
    span.errorMessage Tenha certeza que você procurou pelo usuário corretamente.
  else
    script.
      var profileUserId = '!{profileUser._id}';
      var selectedTab = '!{selectedTab}';


    .profileHeaderContainer
      .coverPhotoContainer

        .userImageContainer
          img(src=profileUser.profilePic, alt="Foto de perfil")
      .profileButtonsContainer
        if profileUser._id != userLoggedIn._id
          a.profileButton(href=`/messages/${profileUser._id}`)
            i.fas.fa-envelope
          +createFollowButton(profileUser, true)
      .userDetailsContainer
        span.displayName #{profileUser.firstName} #{profileUser.lastName}
        span.username @#{profileUser.username}
        span.description #{profileUser.description}

        .followersContainer
          a(href=`/profile/${profileUser.username}/following`)
            span.value #{0}
            span Seguindo
          a(href=`/profile/${profileUser.username}/followers`)
            span.value #{0}
            span Seguidores
    .tabsContainer
      +createTab('Postagem', `/profile/${profileUser.username}`, selectedTab != "replies")
      +createTab('Respostas', `/profile/${profileUser.username}/replies`, selectedTab == "replies")
    .postsContainer

    +createPostModals(userLoggedIn)
block scripts
  script(src="/js/profile.js")